<div><b><font size="4">let和const命令</font></b></div><div><font size="4" style="">let命令</font></div><div><font size="2">基本用法</font></div><div style="text-align: left;"><font size="2">&nbsp;<b> 1.</b>使用用法和var类似，但是所声明的变量只在命令所在的代码块内有效。例如：</font></div><div><pre class="hljs typescript" style="word-wrap: normal; font-variant-numeric: normal; font-variant-east-asian: normal; text-rendering: optimizeLegibility; margin-top: 0px; margin-bottom: 16px; padding: 16px; box-sizing: border-box; overflow: auto; color: rgb(51, 51, 51); background: rgb(247, 247, 247); text-size-adjust: none; font-stretch: normal; font-size: 13.6px; line-height: 1.45; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; border-radius: 3px;"><code class="lang-javascript" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; padding: 0px; margin: 0px; font-size: 13.6px; background: 0px 0px transparent; border-radius: 3px; word-break: normal; white-space: pre; border: 0px; display: inline; overflow: visible; line-height: inherit; word-wrap: normal;">{
  <span class="hljs-keyword" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-weight: 700;">let</span> a = <span class="hljs-number" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: teal;">10</span>;
  <span class="hljs-keyword" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-weight: 700;">var</span> b = <span class="hljs-number" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: teal;">1</span>;
}
a <span class="hljs-comment" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// ReferenceError: a is not defined.</span>
b <span class="hljs-comment" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// 1</span></code></pre></div><div><font size="2">&nbsp;<b>2.</b>let不会有变量提升，中所周知，var声明变量时会存在变量提升，但是let不会：</font></div><div><pre class="hljs typescript" style="text-rendering: optimizeLegibility; margin-top: 0px; margin-bottom: 16px; padding: 16px; box-sizing: border-box; overflow: auto; color: rgb(51, 51, 51); background: rgb(247, 247, 247); text-size-adjust: none; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 13.6px; line-height: 1.45; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; word-wrap: normal; border-radius: 3px;"><code class="lang-javascript" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; padding: 0px; margin: 0px; font-size: 13.6px; background: 0px 0px transparent; border-radius: 3px; word-break: normal; white-space: pre; border: 0px; display: inline; overflow: visible; line-height: inherit; word-wrap: normal;"><span class="hljs-comment" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// var 的情况</span>
<span class="hljs-built_in" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(0, 134, 179);">console</span>.log(foo); <span class="hljs-comment" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// 输出undefined</span>
<span class="hljs-keyword" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-weight: 700;">var</span> foo = <span class="hljs-number" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: teal;">2</span>;

<span class="hljs-comment" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// let 的情况</span>
<span class="hljs-built_in" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(0, 134, 179);">console</span>.log(bar); <span class="hljs-comment" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// 报错ReferenceError</span>
<span class="hljs-keyword" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-weight: 700;">let</span> bar = <span class="hljs-number" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: teal;">2</span>;</code></pre></div><div><font size="2">&nbsp;<b>3.</b>不允许在相同作用域内重复声明同一个变量，否则会报错：</font></div><div><font size="2">&nbsp;&nbsp;</font></div><div><font size="2">&nbsp; &nbsp;</font><span class="hljs-keyword" style="background-color: transparent; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13.6px; white-space: pre; color: rgb(51, 51, 51); text-rendering: optimizeLegibility; box-sizing: border-box; font-weight: 700;">var</span><span style="background-color: transparent; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13.6px; white-space: pre; color: rgb(51, 51, 51);"> a= </span><span class="hljs-number" style="background-color: transparent; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13.6px; white-space: pre; text-rendering: optimizeLegibility; box-sizing: border-box; color: teal;">123</span><span style="background-color: transparent; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13.6px; white-space: pre; color: rgb(51, 51, 51);">;</span></div><div><span style="background-color: transparent; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13.6px; white-space: pre; color: rgb(51, 51, 51);">  </span><span class="hljs-keyword" style="background-color: transparent; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13.6px; white-space: pre; color: rgb(51, 51, 51); text-rendering: optimizeLegibility; box-sizing: border-box; font-weight: 700;">let</span><span style="background-color: transparent; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13.6px; white-space: pre; color: rgb(51, 51, 51);"> b = </span><span class="hljs-number" style="background-color: transparent; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13.6px; white-space: pre; text-rendering: optimizeLegibility; box-sizing: border-box; color: teal;">2</span><span style="background-color: transparent; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13.6px; white-space: pre; color: rgb(51, 51, 51);">;</span></div><div><pre class="hljs typescript" style="word-wrap: normal; font-variant-numeric: normal; font-variant-east-asian: normal; text-rendering: optimizeLegibility; margin-top: 0px; margin-bottom: 16px; padding: 16px; box-sizing: border-box; overflow: auto; color: rgb(51, 51, 51); background: rgb(247, 247, 247); text-size-adjust: none; font-stretch: normal; font-size: 13.6px; line-height: 1.45; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; border-radius: 3px;"><code class="lang-javascript" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; padding: 0px; margin: 0px; font-size: 13.6px; background: 0px 0px transparent; border-radius: 3px; word-break: normal; white-space: pre; border: 0px; display: inline; overflow: visible; line-height: inherit; word-wrap: normal;"><span class="hljs-built_in" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(0, 134, 179);">console</span>.log(a,b);</code></pre><pre class="hljs typescript" style="word-wrap: normal; font-variant-numeric: normal; font-variant-east-asian: normal; text-rendering: optimizeLegibility; margin-top: 0px; margin-bottom: 16px; padding: 16px; box-sizing: border-box; overflow: auto; background: rgb(247, 247, 247); text-size-adjust: none; font-stretch: normal; line-height: 1.45; border-radius: 3px;"><code class="lang-javascript" style="text-rendering: optimizeLegibility; box-sizing: border-box; padding: 0px; margin: 0px; background: 0px 0px transparent; border-radius: 3px; word-break: normal; border: 0px; display: inline; overflow: visible; line-height: inherit; word-wrap: normal;"><div style="color: rgb(0, 0, 0); font-family: Verdana; font-size: 14px; white-space: normal;"><span class="hljs-keyword" style="background-color: transparent; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13.6px; white-space: pre; color: rgb(51, 51, 51); text-rendering: optimizeLegibility; box-sizing: border-box; font-weight: 700;">var</span><span style="background-color: transparent; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13.6px; white-space: pre; color: rgb(51, 51, 51);"> a= </span><span class="hljs-number" style="background-color: transparent; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13.6px; white-space: pre; text-rendering: optimizeLegibility; box-sizing: border-box; color: teal;">1234</span><span style="background-color: transparent; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13.6px; white-space: pre; color: rgb(51, 51, 51);">;</span></div><div style=""><span class="hljs-keyword" style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13.6px; white-space: pre; background-color: transparent; text-rendering: optimizeLegibility; box-sizing: border-box; font-weight: 700;">let</span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13.6px; white-space: pre; background-color: transparent;"> b = </span><span style="font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13.6px; white-space: pre; background-color: transparent;"><font color="#008080">3</font></span><span style="color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13.6px; white-space: pre; background-color: transparent;">;</span><span style="color: rgb(153, 153, 136); font-style: italic; background-color: transparent; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13.6px; white-space: pre;">//</span><font __editorwarp__="1" style="display: inline; font-size: 13.6px; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; color: rgb(153, 153, 136); background-color: rgba(0, 0, 0, 0); font-weight: 400; font-style: italic;">SyntaxError: Identifier 'a' has already been declared</font></div></code></pre></div><div><font size="2"><b>&nbsp;4.</b>存在暂时性死区：就是说只要在块级作用域内存在let命令，它所声明的变量就会绑定在这个块级内，不再受外部影响，例如：</font></div><div><pre class="hljs typescript" style="text-rendering: optimizeLegibility; margin-top: 0px; margin-bottom: 16px; padding: 16px; box-sizing: border-box; overflow: auto; color: rgb(51, 51, 51); background: rgb(247, 247, 247); text-size-adjust: none; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 13.6px; line-height: 1.45; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; word-wrap: normal; border-radius: 3px;"><code class="lang-javascript" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; padding: 0px; margin: 0px; font-size: 13.6px; background: 0px 0px transparent; border-radius: 3px; word-break: normal; white-space: pre; border: 0px; display: inline; overflow: visible; line-height: inherit; word-wrap: normal;"><span class="hljs-keyword" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-weight: 700;">var</span> tmp = <span class="hljs-number" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: teal;">123</span>;

<span class="hljs-keyword" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-weight: 700;">if</span> (<span class="hljs-literal" style="text-rendering: optimizeLegibility; box-sizing: border-box;">true</span>) {
  tmp = <span class="hljs-string" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(221, 17, 68);">'abc'</span>; <span class="hljs-comment" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// ReferenceError</span>
  <span class="hljs-keyword" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-weight: 700;">let</span> tmp;
}</code></pre></div><div><font size="2">&nbsp; 也就是说，在代码块内，使用 let 命令声明变量之前，该变量是不可用的，在语法上称为“暂时性死区” 。</font></div><div><font size="1">&nbsp; 注：暂时性死区 就意味着typeof不再是一个百分之百安全的操作了，也可能会报错的，例如：</font></div><div><pre class="hljs typescript" style="text-rendering: optimizeLegibility; margin-top: 0px; margin-bottom: 16px; padding: 16px; box-sizing: border-box; overflow: auto; color: rgb(51, 51, 51); background: rgb(247, 247, 247); text-size-adjust: none; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 13.6px; line-height: 1.45; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; word-wrap: normal; border-radius: 3px;"><code class="lang-javascript" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; padding: 0px; margin: 0px; font-size: 13.6px; background: 0px 0px transparent; border-radius: 3px; word-break: normal; white-space: pre; border: 0px; display: inline; overflow: visible; line-height: inherit; word-wrap: normal;"><span class="hljs-keyword" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-weight: 700;">typeof</span> x; <span class="hljs-comment" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// ReferenceError</span>
<span class="hljs-keyword" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-weight: 700;">let</span> x;</code></pre><pre class="hljs typescript" style="text-rendering: optimizeLegibility; margin-top: 0px; margin-bottom: 16px; padding: 16px; box-sizing: border-box; overflow: auto; color: rgb(51, 51, 51); background: rgb(247, 247, 247); text-size-adjust: none; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 13.6px; line-height: 1.45; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; word-wrap: normal; border-radius: 3px;"><font __editorwarp__="1" style="display: inline; font-size: 12px; font-family: Verdana; color: rgb(0, 0, 0); background-color: rgba(0, 0, 0, 0); font-weight: 400; font-style: normal;">如果没有声明可能会输出 undefined，但是let之后声明就会报错。</font></pre></div><div><font __editorwarp__="1" style="display: inline; font-size: 18px; font-family: Verdana; color: rgb(0, 0, 0); background-color: rgba(0, 0, 0, 0); font-style: normal;"><b>const命令</b></font></div><div><font __editorwarp__="1" style="display: inline; font-size: 13px; font-family: Verdana; color: rgb(0, 0, 0); background-color: rgba(0, 0, 0, 0); font-weight: 400; font-style: normal;">基本用法</font></div><div><font size="2">&nbsp;<b>1.</b>const声明的是一个只读的常量，就是说一旦声明那么它的值就不能再改变。例如：</font></div><div><pre class="hljs typescript" style="text-rendering: optimizeLegibility; margin-top: 0px; margin-bottom: 16px; padding: 16px; box-sizing: border-box; overflow: auto; color: rgb(51, 51, 51); background: rgb(247, 247, 247); text-size-adjust: none; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 13.6px; line-height: 1.45; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; word-wrap: normal; border-radius: 3px;"><code class="lang-javascript" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; padding: 0px; margin: 0px; font-size: 13.6px; background: 0px 0px transparent; border-radius: 3px; word-break: normal; white-space: pre; border: 0px; display: inline; overflow: visible; line-height: inherit; word-wrap: normal;"><span class="hljs-keyword" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-weight: 700;">const</span> PI = <span class="hljs-number" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: teal;">3.1415</span>;
PI <span class="hljs-comment" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// 3.1415</span>

PI = <span class="hljs-number" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: teal;">3</span>;
<span class="hljs-comment" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// TypeError: Assignment to constant variable.</span></code></pre></div><div><font size="2">只读常量就意味着，开始声明就必须立即初始化，不能后面再赋值，例如：</font></div><div><pre class="hljs typescript" style="text-rendering: optimizeLegibility; margin-top: 0px; margin-bottom: 16px; padding: 16px; box-sizing: border-box; overflow: auto; color: rgb(51, 51, 51); background: rgb(247, 247, 247); text-size-adjust: none; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 13.6px; line-height: 1.45; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; word-wrap: normal; border-radius: 3px;"><code class="lang-javascript" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; padding: 0px; margin: 0px; font-size: 13.6px; background: 0px 0px transparent; border-radius: 3px; word-break: normal; white-space: pre; border: 0px; display: inline; overflow: visible; line-height: inherit; word-wrap: normal;"><span class="hljs-keyword" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-weight: 700;">const</span> foo;
<span class="hljs-comment" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// SyntaxError: Missing initializer in const declaration</span></code></pre></div><div><font size="2">&nbsp;<b>2.</b>const的作用域和let相同，只在声明所在的块级作用域内有效。</font></div><div><pre class="hljs coffeescript" style="text-rendering: optimizeLegibility; margin-top: 0px; margin-bottom: 16px; padding: 16px; box-sizing: border-box; overflow: auto; color: rgb(51, 51, 51); background: rgb(247, 247, 247); text-size-adjust: none; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 13.6px; line-height: 1.45; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; word-wrap: normal; border-radius: 3px;"><code class="lang-javascript" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; padding: 0px; margin: 0px; font-size: 13.6px; background: 0px 0px transparent; border-radius: 3px; word-break: normal; white-space: pre; border: 0px; display: inline; overflow: visible; line-height: inherit; word-wrap: normal;"><span class="hljs-keyword" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-weight: 700;">if</span> (<span class="hljs-literal" style="text-rendering: optimizeLegibility; box-sizing: border-box;">true</span>) {
  const MAX = <span class="hljs-number" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: teal;">5</span>;
}

MAX </code><font __editorwarp__="1" style="display: inline; font-size: 13.6px; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; color: rgb(153, 153, 136); background-color: rgba(0, 0, 0, 0); font-weight: 400; font-style: italic;">// Uncaught ReferenceError: MAX is not defined</font></pre></div><div><font size="2">&nbsp;<b>3.</b>const命令声明的常量不存在变量提升，同样的也存在暂时性死区，只能在声明的位置后面使用。</font></div><div><pre class="hljs typescript" style="text-rendering: optimizeLegibility; margin-top: 0px; margin-bottom: 16px; padding: 16px; box-sizing: border-box; overflow: auto; color: rgb(51, 51, 51); background: rgb(247, 247, 247); text-size-adjust: none; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 13.6px; line-height: 1.45; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; word-wrap: normal; border-radius: 3px;"><code class="lang-javascript" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; padding: 0px; margin: 0px; font-size: 13.6px; background: 0px 0px transparent; border-radius: 3px; word-break: normal; white-space: pre; border: 0px; display: inline; overflow: visible; line-height: inherit; word-wrap: normal;"><span class="hljs-keyword" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-weight: 700;">if</span> (<span class="hljs-literal" style="text-rendering: optimizeLegibility; box-sizing: border-box;">true</span>) {
  <span class="hljs-built_in" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(0, 134, 179);">console</span>.log(MAX); <span class="hljs-comment" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// ReferenceError</span>
  <span class="hljs-keyword" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-weight: 700;">const</span> MAX = <span class="hljs-number" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: teal;">5</span>;
}</code></pre></div><div><font size="2">&nbsp;<b>4.</b>const声明的变量也不允许重复声明，否则会报错。</font></div><div><pre class="hljs typescript" style="text-rendering: optimizeLegibility; margin-top: 0px; margin-bottom: 16px; padding: 16px; box-sizing: border-box; overflow: auto; color: rgb(51, 51, 51); background: rgb(247, 247, 247); text-size-adjust: none; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 13.6px; line-height: 1.45; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; word-wrap: normal; border-radius: 3px;"><code class="lang-javascript" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; padding: 0px; margin: 0px; font-size: 13.6px; background: 0px 0px transparent; border-radius: 3px; word-break: normal; white-space: pre; border: 0px; display: inline; overflow: visible; line-height: inherit; word-wrap: normal;"><span class="hljs-keyword" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-weight: 700;">var</span> message = <span class="hljs-string" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(221, 17, 68);">"Hello!"</span>;
<span class="hljs-keyword" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-weight: 700;">let</span> age = <span class="hljs-number" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: teal;">25</span>;

<span class="hljs-comment" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// 以下两行都会报错</span>
<span class="hljs-keyword" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-weight: 700;">const</span> message = <span class="hljs-string" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(221, 17, 68);">"Goodbye!"</span>;
<span class="hljs-keyword" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-weight: 700;">const</span> age = <span class="hljs-number" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: teal;">30</span>;</code></pre></div><div><font size="4"><b>const的本质</b></font></div><div><font size="2">&nbsp;const一初始化就不能改变的，本质就是保证变量指向的那个内存地址不得改动，对于简单类型的数据（数值，字符串，布尔值），值就保存在变量指向的那个内存地址，因此等同于常量，但是对于复合型的书（数组和对象），变量指向的内存地址，保存的只是一个指针，const只能保证这个指针是固定的，但是它指向的数据结构是不是可变的，就完全不能控制了，因此，使用const声明复合类型的变量时需谨慎。</font></div><div><pre class="hljs typescript" style="text-rendering: optimizeLegibility; margin-top: 0px; margin-bottom: 16px; padding: 16px; box-sizing: border-box; overflow: auto; color: rgb(51, 51, 51); background: rgb(247, 247, 247); text-size-adjust: none; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 13.6px; line-height: 1.45; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; word-wrap: normal; border-radius: 3px;"><code class="lang-javascript" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; padding: 0px; margin: 0px; font-size: 13.6px; background: 0px 0px transparent; border-radius: 3px; word-break: normal; white-space: pre; border: 0px; display: inline; overflow: visible; line-height: inherit; word-wrap: normal;"><span class="hljs-keyword" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-weight: 700;">const</span> foo = {};

<span class="hljs-comment" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// 为 foo 添加一个属性，可以成功</span>
foo.prop = <span class="hljs-number" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: teal;">123</span>;
foo.prop <span class="hljs-comment" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// 123</span>

<span class="hljs-comment" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// 将 foo 指向另一个对象，就会报错</span>
foo = {}; <span class="hljs-comment" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// TypeError: "foo" is read-only</span></code></pre></div><div><pre class="hljs typescript" style="text-rendering: optimizeLegibility; margin-top: 0px; margin-bottom: 16px; padding: 16px; box-sizing: border-box; overflow: auto; color: rgb(51, 51, 51); background: rgb(247, 247, 247); text-size-adjust: none; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 13.6px; line-height: 1.45; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; word-wrap: normal; border-radius: 3px;"><code class="lang-javascript" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; padding: 0px; margin: 0px; font-size: 13.6px; background: 0px 0px transparent; border-radius: 3px; word-break: normal; white-space: pre; border: 0px; display: inline; overflow: visible; line-height: inherit; word-wrap: normal;"><span class="hljs-keyword" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-weight: 700;">const</span> a = [];
a.push(<span class="hljs-string" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(221, 17, 68);">'Hello'</span>); <span class="hljs-comment" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// 可执行</span>
a.length = <span class="hljs-number" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: teal;">0</span>;    <span class="hljs-comment" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// 可执行</span>
a = [<span class="hljs-string" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(221, 17, 68);">'Dave'</span>];    <span class="hljs-comment" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// 报错</span></code></pre></div><div><font size="4"><br></font></div><div><font size="4"><b>ES6声明变量的六种方法：</b></font></div><div><font size="2">&nbsp; &nbsp; &nbsp; ES5 只有两种声明变量的方法：var命令和function命令。ES6除了添加let和const命令，后面章节还会提到，另外两种声明变量的方法：import命令和class命令。所以，ES6 一共有6种声明变量的方法。</font></div><div><font size="2"><br></font></div><div><font __editorwarp__="1" style="display: inline; font-size: 18px; font-family: Verdana; color: rgb(0, 0, 0); background-color: rgba(0, 0, 0, 0); font-style: normal;"><b>顶层对象的属性：</b></font></div><div><font size="2">顶层对象在浏览器环境中指的是window对象，比如你在全局声明一个变量它会自动挂在window的属性上，在node中指的是global对象，所以说顶层对象的属性与全局变量是等价的。</font></div><div><font size="2"><br></font></div><div><pre class="hljs typescript" style="text-rendering: optimizeLegibility; margin-top: 0px; margin-bottom: 16px; padding: 16px; box-sizing: border-box; overflow: auto; color: rgb(51, 51, 51); background: rgb(247, 247, 247); text-size-adjust: none; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 13.6px; line-height: 1.45; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; word-wrap: normal; border-radius: 3px;"><code class="lang-javascript" style="text-rendering: optimizeLegibility; box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; padding: 0px; margin: 0px; font-size: 13.6px; background: 0px 0px transparent; border-radius: 3px; word-break: normal; white-space: pre; border: 0px; display: inline; overflow: visible; line-height: inherit; word-wrap: normal;"><span class="hljs-built_in" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(0, 134, 179);">window</span>.a = <span class="hljs-number" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: teal;">1</span>;
a <span class="hljs-comment" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// 1</span>

a = <span class="hljs-number" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: teal;">2</span>;
<span class="hljs-built_in" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(0, 134, 179);">window</span>.a <span class="hljs-comment" style="text-rendering: optimizeLegibility; box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// 2</span></code></pre></div><div><font size="2">顶层对象和全局变量挂钩，有利有弊，但是在业内被认为是JavaScript语言最大的败笔设计之一，导致的问题是：</font></div><div><font size="2">1，没法在编译时就报出变量未声明的错误，只有在运行的时候才能知道（因为全局变量可能是顶层对象的属性创造的，而属性的创造是动态的，比如中所周知的，如果在全局中没有声明就对变量进行赋值是不会报错的）。</font></div><div><font size="2">2，程序猿很容易不知不觉就创造了个全局变量，比如打错了变量名，导致顶层对象的属性是到处可以读写的，这非常不利于模块化的编程。</font></div><div><font size="2">3.window对象有实体含义，指的是浏览器的窗口对象，顶层对象是一个有实体含义的对象，也是不合适的。</font></div><div><font size="2">鉴于上面这些问题ES6改变了一点，一方面，为了保持兼容，var命令和function命令声明的全局变量，依旧是顶层对象的属性；另一方面，let命令、const命令、class命令、等声明的全局变量，不属于顶层对象的属性，也就是说从ES6开始，全局变量将逐步与顶层对象的属性脱钩。</font></div><div><font size="2"><br></font></div><div><font size="2"><br></font></div><div><font size="2"><br></font></div><div><font size="2"><br></font></div><div><font size="2"><br></font></div><div><font size="2"><br></font></div><div><font size="2"><br></font></div><div><font size="2"><br></font></div><div><font size="2"><br></font></div><div><font size="2"><br></font></div><div><font size="2"><br></font></div><div><font size="2"><br></font></div><div><font size="2"><br></font></div><div><font size="2"><br></font></div><div><font size="2"><br></font></div><div><font size="2"><br></font></div><div><font size="2"><br></font></div><div><font size="2"><br></font></div><div><font size="2"><br></font></div><div><font size="2"><br></font></div>
